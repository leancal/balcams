<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout | Balcam's Gym</title>
    <link rel="shortcut icon" href="assets/images/favicon-32x32.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../web/assets/css/checkout.css">
    <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" />

</head>

<body class="relative">
    <!-- NAV -->
    <nav class="mi-h-[7vh] lg:min-h-[7vh] relative bg-[#1E1E1E] shadow-lg ">
        <div class="container px-6 py-6 mx-auto">
            <div class="lg:flex lg:items-center lg:justify-between">
                <div class="flex items-center justify-between w-full">
                    <div class="text-xl font-semibold text-gray-700">
                        <a class="flex flex-row justify-content-center align-items-center navbar-brand "
                            href="index.html">
                            <img class="pr-3" style="height: 70px;" src="assets/images/logo-Balcam-white.png"
                                alt="Logo">
                            <div class="pt-2 d-flex flex-column justify-content-center align-items-center">
                                <H4 class="h4Balcam text-2xl text-white">BALCAM<span
                                        class="text text-[#f1d24d]">'S</span></H4>
                                <h4 class="h4Balcam text-2xl text-white">GYM SHOP</h4>
                            </div>
                        </a>
                        <!-- <a class="text-2xl font-bold block transition-colors duration-300 transform text-white lg:text-3xl hover:text-gray-300"
                            href="./index.html">
                            BALCAM '<span class="text-yellow-400">S</span>
                            <br>
                            <span class="text-center font-thin text-sm" href="./index.html" >Home</span>
                        </a> -->
                    </div>

                    <div class="pt-2 hidden lg:flex flex-col items-center justify-center">
                        <h1 class="text-2xl font-bold text-white ">BALCAM'S SHOP</h1>
                        <h3 class="text-xl text-white font-thin pt-2">Welcome to the shop of your best gym, we have what
                            you
                            are looking for!</h3>
                    </div>

                    <button type="button" data-drawer-target="drawer-right-example"
                        data-drawer-show="drawer-right-example" data-drawer-placement="right"
                        aria-controls="drawer-right-example" v-cloak @click="isOpen = !isOpen" type="button"
                        class="hidden lg:block text-gray-200  hover:text-gray-400 focus:outline-none focus:text-gray-400"
                        aria-label="toggle menu">
                        <div
                            class="relative transition-colors duration-300 transform text-gray-200 hover:text-gray-300">
                            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.70711 15.2929C4.07714 15.9229 4.52331 17 5.41421 17H17M17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17ZM9 19C9 20.1046 8.10457 21 7 21C5.89543 21 5 20.1046 5 19C5 17.8954 5.89543 17 7 17C8.10457 17 9 17.8954 9 19Z"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                            <span class="absolute top-0 left-0 p-1 text-xs text-white bg-blue-500 rounded-full"></span>
                        </div>
                    </button>


                    <button v-cloak @click="isOpen = !isOpen" type="button"
                        class="block lg:hidden text-gray-200  hover:text-gray-400 focus:outline-none focus:text-gray-400"
                        aria-label="toggle menu">

                        <div
                            class="relative transition-colors duration-300 transform text-gray-200 hover:text-gray-300">
                            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.70711 15.2929C4.07714 15.9229 4.52331 17 5.41421 17H17M17 17C15.8954 17 15 17.8954 15 19C15 20.1046 15.8954 21 17 21C18.1046 21 19 20.1046 19 19C19 17.8954 18.1046 17 17 17ZM9 19C9 20.1046 8.10457 21 7 21C5.89543 21 5 20.1046 5 19C5 17.8954 5.89543 17 7 17C8.10457 17 9 17.8954 9 19Z"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>

                            <span class="absolute top-0 left-0 p-1 text-xs text-white bg-blue-500 rounded-full"></span>
                        </div>
                    </button>
                </div>

                <!-- drawer component -->
                <div id="drawer-right-example"
                    class="fixed z-50 h-screen p-4 overflow-y-auto w-[550px] bg-gray-800 transition-transform right-0 top-0 translate-x-full"
                    tabindex="-1" aria-labelledby="drawer-right-label" aria-hidden="true">
                    <div class="flex flex-col gap-5 mt-4 lg:mt-0">
                        <h2 class="text-center text-white text-xl uppercase">
                            Shopping cart
                        </h2>
                        <h4 class="text-right text-white">
                            Product list
                        </h4>
                        <div class="flex flex-wrap gap-3">
                            <div v-for="product in cartProducts"
                                class="flex justify-between items-center w-full border-b">
                                <img :src="product.urlImg" class="pl-5 h-24 object-contain">
                                <h3 class="text-white truncate w-[200px]">{{product.name}}</h3>
                                <div
                                    class="bg-yellow-400  flex justify-between items-center gap-2 px-1 py-2 border rounded">
                                    <ion-icon @click="reduceQuantity(product)"
                                        class="cursor-pointer text-black text-2xl select-none " name="remove-outline">
                                    </ion-icon>
                                    <p class="text-black text-xl truncate select-none">{{product.quantity}}</p>
                                    <ion-icon v-if="product.stockAux > 0" @click="addCart(product)"
                                        class="select-none cursor-pointer text-black text-2xl" name="add-outline">
                                    </ion-icon>
                                    <ion-icon v-else @click="noStockAllert"
                                        class="select-none cursor-pointer text-black text-2xl cursor-not-allowed"
                                        name="add-outline">
                                    </ion-icon>
                                </div>
                                <ion-icon @click="deleteItem(product)" class="text-xl text-white" name="close-outline">
                                </ion-icon>

                            </div>
                        </div>
                        <div class="flex w-full items-center justify-between">
                            <button class="w-[65%] bg-green-700 px-5 py-2 rounded text-white font-bold">
                                <a href="./checkout.html">Continue checkout</a>
                            </button>
                            <button @click="cleanCart"
                                class="w-[30%] flex justify-center gap-2 items-center bg-red-700 px-5 py-2 rounded text-white">
                                <ion-icon class="text-xl" name="trash-outline"></ion-icon>
                                <p>Clear cart</p>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- Mobile Menu open -->
                <div v-cloak :class="[isOpen ? 'translate-x-0 opacity-100 ' : 'opacity-0 -translate-x-full']"
                    class="absolute inset-x-0 z-50 w-full px-6 py-4 transition-all duration-300 ease-in-out  bg-[#1E1E1E] lg:mt-0 lg:p-0 lg:top-0 lg:relative lg:bg-transparent lg:w-auto lg:opacity-100 lg:translate-x-0 lg:flex lg:items-center">
                    <div class="lg:hidden flex flex-col gap-5 mt-4 lg:mt-0">
                        <h2 class="text-center text-white text-xl">
                            Shopping cart
                        </h2>
                        <h4 class="text-right text-white">
                            Product list
                        </h4>
                        <div class="flex flex-wrap gap-3">
                            <div v-for="product in cartProducts"
                                class="flex justify-between items-center w-full border-b">
                                <img :src="product.urlImg" class="h-24 object-contain">
                                <h3 class="text-white truncate w-[200px]">Whey protein z-10 aguante river</h3>
                                <div
                                    class="bg-yellow-400  flex justify-between items-center gap-2 px-1 py-2 border rounded">
                                    <ion-icon @click="deleteItemCart(product)" class="text-black text-2xl"
                                        name="remove-outline"></ion-icon>
                                    <p class="text-black text-xl truncate">{{product.quantity}}</p>
                                    <ion-icon @click="addCartAllert = !addCartAllert" @click="addCart(product)"
                                        class=" text-black text-2xl" name="add-outline">
                                    </ion-icon>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div id="app" class="overflow-y-hidden" @click="outClick">
        <transition>
            <div v-if="purchaseAlertSucces" class="z-50 absolute top-0 w-full text-white bg-emerald-500">
                <div class="container flex items-center justify-between px-6 py-4 mx-auto">
                    <div class="flex">
                        <svg viewBox="0 0 40 40" class="w-6 h-6 fill-current">
                            <path
                                d="M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z">
                            </path>
                        </svg>

                        <p class="mx-3">You finished the tasks.</p>
                    </div>

                    <button @click="purchaseAlertSucces = !purchaseAlertSucces"
                        class="p-1 transition-colors duration-300 transform rounded-md hover:bg-opacity-25 hover:bg-gray-600 focus:outline-none">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 18L18 6M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
            </div>
            <div v-if="purchaseAlertError" class="z-50 absolute top-0 w-full text-white bg-red-500">
                <div class="container flex items-center justify-between px-6 py-4 mx-auto">
                    <div class="flex">
                        <svg viewBox="0 0 40 40" class="w-6 h-6 fill-current">
                            <path
                                d="M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z">
                            </path>
                        </svg>

                        <p class="mx-3">{{purchaseAlertError}}.</p>
                    </div>

                    <button @click="purchaseAlertError = !purchaseAlertError"
                        class="p-1 transition-colors duration-300 transform rounded-md hover:bg-opacity-25 hover:bg-gray-600 focus:outline-none">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 18L18 6M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </transition>
        <section v-if="cartProducts.length > 0"
            class="bg-white relative flex flex-col gap-5 justify-center md:flex-row w-full ">
            <div :class="{'h-[87vh]':modal}" class="gap-5 flex flex-col ">
                <div :class="{'hidden': modal}" v-for="product in cartProducts"
                    class="flex flex-row justify-around items-center w-[800px] h-[350px] border m-5">
                    <div class="h-24 w-24 flex justify-center items-center border ">
                        <img :src="product.urlImg">
                    </div>
                    <div class="flex w-64 flex-col justify-between items-center flex-wrap">
                        <div class="flex flex-col gap-2 flex-wrap">
                            <h2 class="font-medium text-xl">{{product.name}}</h2>
                            <h3 class="font-medium">{{product.productCategory}}</h3>
                            <p class="">
                                {{product.description}}
                            </p>
                            <hr>
                            <div class="flex justify-between items-center">
                                <div v-if="product.stock > 0" class="flex gap-3 items-center">
                                    <ion-icon class="text-green-700 text-2xl" name="checkmark-outline"></ion-icon>
                                    <p>Stock</p>
                                </div>
                                <div v-else class="flex gap-3 items-center">
                                    <ion-icon class="text-red-700 text-2xl" name="close-outline"></ion-icon>
                                    <p>No Stock!</p>
                                </div>
                                <h3 class="font-bold">{{moneyFormat.format(product.price)}}</h3>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col justify-around h-full">
                        <div class="flex justify-between w-[150px]">
                            <p class="font-medium text-xl justify-self-end self-start ">
                                {{product.quantity}}
                            </p>
                            <ion-icon @click="deleteItem(product)" class="text-2xl justify-self-end self-start "
                                name="close-outline"></ion-icon>
                        </div>
                    </div>
                </div>
            </div>
            <div class="gap-5 h-[300px] flex flex-col p-5 bg-white">
                <div class="border p-5 w-[500px] bg-grey-200 flex flex-col br gap-5">
                    <h2 class="text-bold text-xl">Order Sumary</h2>
                    <hr>
                    <div class="flex flex-col">
                        <div class="flex justify-between items-center m-3 border-b">
                            <p class="p-2">Subtotal</p>
                            <p>{{moneyFormat.format(subtotal)}}</p>
                        </div>
                        <div class="flex justify-between items-center m-3 border-b">
                            <p class="p-2">Shipping Estimate</p>
                            <p>{{moneyFormat.format(shippingEstimate)}}</p>
                        </div>
                        <div class="flex justify-between items-center m-3 border-b">
                            <p class="p-2">Tax Estimate</p>
                            <p>{{moneyFormat.format(subtotal * taxEstimate)}}</p>
                        </div>
                        <div class="flex justify-between items-center m-3">
                            <h3 class="font-bold">Order Total: </h3>
                            <h3 class="font-bold">{{moneyFormat.format(subtotal * (1 + taxEstimate) +
                                shippingEstimate)}}
                            </h3>
                        </div>
                    </div>
                    <a v-if="client == ''" href="./login.html"><button
                            class="w-full bg-sky-500 rounded shadow text-white font-bold py-2">Checkout </button></a>
                    <button v-else @click="modal = !modal"
                        class="w-full bg-sky-500 rounded shadow text-white font-bold py-2">
                        Checkout
                    </button>
                </div>
            </div>
        </section>

        <section v-else class="relative flex items-center w-full h-[60vh] justify-center lg:flex-row">
            <h2 class="text-2xl text-black font-medium cursor-default">You don't have any products yet! - <a
                    href="./shop.html" class="cursor-pointer underline font-bold text-yellow-600">Go to shop now!</a>
            </h2>
        </section>
        <transition>
            <div v-if="modal" class="h-full w-full top-0 absolute bg-gray-900/50 flex justify-center items-center">
                <div id="modal"
                    class="absolute top-[6%]  flex flex-col items-center justify-around lg:flex-row h-full w-full lg:h-[800px] lg:w-[1200px] bg-white rounded shadow">
                    <div>
                        <div class="card-form">
                            <div class="card-list">
                                <div class="card-item" v-bind:class="{ '-active' : isCardFlipped }">
                                    <div class="card-item__side -front">
                                        <div class="card-item__focus" v-bind:class="{'-active' : focusElementStyle }"
                                            v-bind:style="focusElementStyle" ref="focusElement"></div>
                                        <div class="card-item__cover">
                                            <img v-bind:src="'https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/' + currentCardBackground + '.jpeg'"
                                                class="card-item__bg">
                                        </div>
                                        <div class="card-item__wrapper">
                                            <div class="card-item__top">
                                                <img src="https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"
                                                    class="card-item__chip">
                                                <div class="card-item__type">
                                                    <transition name="slide-fade-up">
                                                        <img v-bind:src="'https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/' + getCardType + '.png'"
                                                            v-if="getCardType" v-bind:key="getCardType" alt=""
                                                            class="card-item__typeImg">
                                                    </transition>
                                                </div>
                                            </div>
                                            <label for="cardNumber" class="card-item__number" ref="cardNumber">
                                                <template v-if="getCardType === 'amex'">
                                                    <span v-for="(n, $index) in amexCardMask" :key="$index">
                                                        <transition name="slide-fade-up">
                                                            <div class="card-item__numberItem"
                                                                v-if="$index > 4 && $index < 14 && cardNumber.length > $index && n.trim() !== ''">
                                                                *</div>
                                                            <div class="card-item__numberItem"
                                                                :class="{ '-active' : n.trim() === '' }" :key="$index"
                                                                v-else-if="cardNumber.length > $index">
                                                                {{cardNumber[$index]}}
                                                            </div>
                                                            <div class="card-item__numberItem"
                                                                :class="{ '-active' : n.trim() === '' }" v-else
                                                                :key="$index + 1">{{n}}</div>
                                                        </transition>
                                                    </span>
                                                </template>

                                                <template v-else>
                                                    <span v-for="(n, $index) in otherCardMask" :key="$index">
                                                        <transition name="slide-fade-up">
                                                            <div class="card-item__numberItem"
                                                                v-if="$index > 4 && $index < 15 && cardNumber.length > $index && n.trim() !== ''">
                                                                *</div>
                                                            <div class="card-item__numberItem"
                                                                :class="{ '-active' : n.trim() === '' }" :key="$index"
                                                                v-else-if="cardNumber.length > $index">
                                                                {{cardNumber[$index]}}
                                                            </div>
                                                            <div class="card-item__numberItem"
                                                                :class="{ '-active' : n.trim() === '' }" v-else
                                                                :key="$index + 1">{{n}}</div>
                                                        </transition>
                                                    </span>
                                                </template>
                                            </label>
                                            <div class="card-item__content">
                                                <label for="cardName" class="card-item__info" ref="cardName">
                                                    <div class="card-item__holder">Card Holder</div>
                                                    <transition name="slide-fade-up">
                                                        <div class="card-item__name" v-if="cardName.length" key="1">
                                                            <transition-group name="slide-fade-right">
                                                                <span class="card-item__nameItem"
                                                                    v-for="(n, $index) in cardName.replace(/\s\s+/g, ' ')"
                                                                    v-if="$index === $index"
                                                                    v-bind:key="$index + 1">{{n}}</span>
                                                            </transition-group>
                                                        </div>
                                                        <div class="card-item__name" v-else key="2">Full Name</div>
                                                    </transition>
                                                </label>
                                                <div class="card-item__date" ref="cardDate">
                                                    <label for="cardMonth" class="card-item__dateTitle">Expires</label>
                                                    <label for="cardMonth" class="card-item__dateItem">
                                                        <transition name="slide-fade-up">
                                                            <span v-if="cardMonth"
                                                                v-bind:key="cardMonth">{{cardMonth}}</span>
                                                            <span v-else key="2">MM</span>
                                                        </transition>
                                                    </label>
                                                    /
                                                    <label for="cardYear" class="card-item__dateItem">
                                                        <transition name="slide-fade-up">
                                                            <span v-if="cardYear"
                                                                v-bind:key="cardYear">{{String(cardYear).slice(2,4)}}</span>
                                                            <span v-else key="2">YY</span>
                                                        </transition>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-item__side -back">
                                        <div class="card-item__cover">
                                            <img v-bind:src="'https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/' + currentCardBackground + '.jpeg'"
                                                class="card-item__bg">
                                        </div>
                                        <div class="card-item__band"></div>
                                        <div class="card-item__cvv">
                                            <div class="card-item__cvvTitle">CVV</div>
                                            <div class="card-item__cvvBand">
                                                <span v-for="(n, $index) in cardCvv" :key="$index">
                                                    *
                                                </span>

                                            </div>
                                            <div class="card-item__type">
                                                <img v-bind:src="'https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/' + getCardType + '.png'"
                                                    v-if="getCardType" class="card-item__typeImg">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-form__inner">
                                <div class="card-input">
                                    <label for="cardNumber" class="card-input__label">Card Number</label>
                                    <input type="text" id="cardNumber" class="card-input__input"
                                        v-mask="generateCardNumberMask" v-model="cardNumber" v-on:focus="focusInput"
                                        v-on:blur="blurInput" data-ref="cardNumber" autocomplete="off">
                                </div>
                                <div class="card-input">
                                    <label for="cardName" class="card-input__label">Card Holders</label>
                                    <input type="text" id="cardName" class="card-input__input" v-model="cardName"
                                        v-on:focus="focusInput" v-on:blur="blurInput" data-ref="cardName"
                                        autocomplete="off">
                                </div>
                                <div class="card-form__row">
                                    <div class="card-form__col">
                                        <div class="card-form__group">
                                            <label for="cardMonth" class="card-input__label">Expiration Date</label>
                                            <select class="card-input__input -select" id="cardMonth" v-model="cardMonth"
                                                v-on:focus="focusInput" v-on:blur="blurInput" data-ref="cardDate">
                                                <option value="" disabled selected>Month</option>
                                                <option v-bind:value="n < 10 ? '0' + n : n" v-for="n in 12"
                                                    v-bind:disabled="n < minCardMonth" v-bind:key="n">
                                                    {{n < 10 ? '0' + n : n}} </option>
                                            </select>
                                            <select class="card-input__input -select" id="cardYear" v-model="cardYear"
                                                v-on:focus="focusInput" v-on:blur="blurInput" data-ref="cardDate">
                                                <option value="" disabled selected>Year</option>
                                                <option v-bind:value="$index + minCardYear" v-for="(n, $index) in 12"
                                                    v-bind:key="n">
                                                    {{$index + minCardYear}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="card-form__col -cvv">
                                        <div class="card-input">
                                            <label for="cardCvv" class="card-input__label">CVV</label>
                                            <input type="text" class="card-input__input" id="cardCvv" v-mask="'####'"
                                                maxlength="4" v-model="cardCvv" v-on:focus="flipCard(true)"
                                                v-on:blur="flipCard(false)" autocomplete="off">
                                        </div>
                                    </div>
                                </div>

                                <button @click="makePayment" class="card-form__button flex justify-center items-center">

                                    <div v-if="isLoading && !success" role="status" class="flex items-center justify-center">
                                        <svg aria-hidden="true" class="mr-2 w-8 h-8 text-[#1e1e1e] animate-spin fill-white" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"></path>
                                            <path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"></path>
                                        </svg>
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                    
                                    <ion-icon v-if="success" class="text-4xl font-bold" name="checkmark-outline">
                                    </ion-icon>
                                    <p v-if="!isLoading && !success">Submit</p>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-5 w-[500px] h-[90%] bg-grey-200 flex flex-col br gap-5">
                        <h2 class="text-bold text-xl">Order Sumary</h2>
                        <div class="flex flex-col border rounded">
                            <div class="flex justify-between items-center m-3 border-b">
                                <p class="p-2">Subtotal</p>
                                <p>{{moneyFormat.format(subtotal)}}</p>
                            </div>
                            <div class="flex justify-between items-center m-3 border-b">
                                <p class="p-2">Shipping Estimate</p>
                                <p>{{moneyFormat.format(shippingEstimate)}}</p>
                            </div>
                            <div class="flex justify-between items-center m-3">
                                <p class="p-2">Tax Estimate</p>
                                <p>{{moneyFormat.format(subtotal * taxEstimate)}}</p>
                            </div>
                        </div>
                        <div class="text-xl flex justify-between items-center m-3">
                            <h3 class="font-bold">Order Total: </h3>
                            <h3 class="text-green-700 font-bold">{{moneyFormat.format(subtotal * (1 + taxEstimate) +
                                shippingEstimate)}}
                            </h3>
                        </div>
                        <ion-icon class=" absolute top-10 right-10 text-black text-4xl cursor-pointer"
                            @click="modal = !modal" name="close-outline"></ion-icon>

                    </div>
                </div>
            </div>
        </transition>
    </div>


    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
    <!--<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <script src="../web/assets/js/modal.js"></script>
    <!--<script src="./assets/js/shop.js"></script>-->
</body>

</html>
